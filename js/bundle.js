var DragDropTouch;!function(t){"use strict";var e=function(){function t(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){this._dropEffect=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),t.prototype.clearData=function(t){null!=t?delete this._data[t]:this._data=null},t.prototype.getData=function(t){return this._data[t]||""},t.prototype.setData=function(t,e){this._data[t]=e},t.prototype.setDragImage=function(t,e,o){var i=n._instance;i._imgCustom=t,i._imgOffset={x:e,y:o}},t}();t.DataTransfer=e;var n=function(){function t(){if(this._lastClick=0,t._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",function(){},{get passive(){return e=!0,!0}}),"ontouchstart"in document){var n=document,o=this._touchstart.bind(this),i=this._touchmove.bind(this),r=this._touchend.bind(this),c=!!e&&{passive:!1,capture:!1};n.addEventListener("touchstart",o,c),n.addEventListener("touchmove",i,c),n.addEventListener("touchend",r),n.addEventListener("touchcancel",r)}}return t.getInstance=function(){return t._instance},t.prototype._touchstart=function(e){var n=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<t._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target))return e.preventDefault(),void this._reset();this._reset();var o=this._closestDraggable(e.target);o&&(this._dispatchEvent(e,"mousemove",e.target)||this._dispatchEvent(e,"mousedown",e.target)||(this._dragSource=o,this._ptDown=this._getPoint(e),this._lastTouch=e,e.preventDefault(),setTimeout(function(){n._dragSource==o&&null==n._img&&n._dispatchEvent(e,"contextmenu",o)&&n._reset()},t._CTXMENU)))}},t.prototype._touchmove=function(e){if(this._shouldHandle(e)){var n=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",n))return this._lastTouch=e,void e.preventDefault();if(this._dragSource&&!this._img)this._getDelta(e)>t._THRESHOLD&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",n));this._img&&(this._lastTouch=e,e.preventDefault(),n!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",n),this._lastTarget=n),this._moveImage(e),this._dispatchEvent(e,"dragover",n))}},t.prototype._touchend=function(t){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target))return void t.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(t.type.indexOf("cancel")<0&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},t.prototype._shouldHandle=function(t){return t&&!t.defaultPrevented&&t.touches&&t.touches.length<2},t.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._dataTransfer=new e},t.prototype._getPoint=function(t,e){return t&&t.touches&&(t=t.touches[0]),{x:e?t.pageX:t.clientX,y:e?t.pageY:t.clientY}},t.prototype._getDelta=function(t){var e=this._getPoint(t);return Math.abs(e.x-this._ptDown.x)+Math.abs(e.y-this._ptDown.y)},t.prototype._getTarget=function(t){for(var e=this._getPoint(t),n=document.elementFromPoint(e.x,e.y);n&&"none"==getComputedStyle(n).pointerEvents;)n=n.parentElement;return n},t.prototype._createImage=function(e){this._img&&this._destroyImage();var n=this._imgCustom||this._dragSource;if(this._img=n.cloneNode(!0),this._copyStyle(n,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var o=n.getBoundingClientRect(),i=this._getPoint(e);this._imgOffset={x:i.x-o.left,y:i.y-o.top},this._img.style.opacity=t._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},t.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},t.prototype._moveImage=function(t){var e=this;requestAnimationFrame(function(){if(e._img){var n=e._getPoint(t,!0),o=e._img.style;o.position="absolute",o.pointerEvents="none",o.zIndex="999999",o.left=Math.round(n.x-e._imgOffset.x)+"px",o.top=Math.round(n.y-e._imgOffset.y)+"px"}})},t.prototype._copyProps=function(t,e,n){for(var o=0;o<n.length;o++){var i=n[o];t[i]=e[i]}},t.prototype._copyStyle=function(e,n){if(t._rmvAtts.forEach(function(t){n.removeAttribute(t)}),e instanceof HTMLCanvasElement){var o=e,i=n;i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0)}for(var r=getComputedStyle(e),c=0;c<r.length;c++){var a=r[c];a.indexOf("transition")<0&&(n.style[a]=r[a])}n.style.pointerEvents="none";for(c=0;c<e.children.length;c++)this._copyStyle(e.children[c],n.children[c])},t.prototype._dispatchEvent=function(e,n,o){if(e&&o){var i=document.createEvent("Event"),r=e.touches?e.touches[0]:e;return i.initEvent(n,!0,!0),i.button=0,i.which=i.buttons=1,this._copyProps(i,e,t._kbdProps),this._copyProps(i,r,t._ptProps),i.dataTransfer=this._dataTransfer,o.dispatchEvent(i),i.defaultPrevented}return!1},t.prototype._closestDraggable=function(t){for(;t;t=t.parentElement)if(t.hasAttribute("draggable")&&t.draggable)return t;return null},t}();n._instance=new n,n._THRESHOLD=5,n._OPACITY=.5,n._DBLCLICK=500,n._CTXMENU=900,n._rmvAtts="id,class,style,draggable".split(","),n._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),n._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=n}(DragDropTouch||(DragDropTouch={})),function(){try{var t=document.querySelector(".menu__list"),e=document.querySelector(".menu__button"),n=t.querySelectorAll(".menu__link"),o=/http[s]?:\/\/.*\/(.*)/,i=String(window.location.href).match(o)[1]||"index.html";n.forEach(function(t){t.href.match(o)[1]==i?t.setAttribute("data-active",""):t.removeAttribute("data-active")}),e.onclick=function(){t.classList.toggle("menu__list-closed")}}catch(t){console.log(t)}}(),function(){try{var t=document.querySelector(".main-front"),e=t.getBoundingClientRect().top,n=t.querySelector(".main-front__background"),o=document.querySelector(".calendar__extended").getBoundingClientRect().top;n.style.height=o-e+"px"}catch(t){console.log(t)}}(),function(){try{var t=document.querySelector(".features"),e=t.querySelector(".features__background");t.querySelectorAll(".features__item");timer=setInterval(function(){var n=t.getBoundingClientRect().top,o=(getComputedStyle(t).paddingTop,t.querySelector("div[data-active]")),i=o.nextElementSibling;null==i&&(i=e.nextElementSibling);var r=i.getBoundingClientRect().top;o.removeAttribute("data-active"),i.setAttribute("data-active",""),e.style.top=r-n+"px"},1e3)}catch(t){console.log(t)}}(),function(){try{var t=document.querySelector(".calendar"),e=t.querySelector(".calendar__extended"),n=t.querySelector(".calendar__items");function o(t,e,n){var o=document.createElement(t);return o.className=e,o.innerHTML=n,o}n.querySelectorAll(".calendar__item").forEach(function(t,i){t.addEventListener("click",function(){!function(t,n){var i=n.querySelector(".calendar__item");n.querySelector(".calendar__description-text").innerHTML=t.dataset.description;var r=o("div","calendar__item",t.innerHTML),c=o("p","calendar__month text_bold text_default",t.dataset.time);r.appendChild(c),e.replaceChild(r,i)}(t,e),n.querySelector("div[data-active]").removeAttribute("data-active"),t.setAttribute("data-active","")})})}catch(t){console.log(t)}}(),function(){try{var t=document.getElementById("play");t.onclick=function(){t.hasAttribute("play")?t.removeAttribute("play"):t.setAttribute("play","")}}catch(t){console.log(t)}}(),function(){try{var t,e=document.getElementById("play"),n=document.querySelector(".music__timeline"),o=n.querySelector(".music__timeline-before"),i=n.querySelector(".music__timeline-after"),r=n.querySelector(".music__controller"),c=0,a=100,s=n.getBoundingClientRect();function u(t,e){r.style.left=t+"%",o.style.width=t+"%",i.style.width=e+"%"}function l(t){var e=(t.clientX-s.left)/n.offsetWidth*100;e<0&&(e=0);var o=100-r.offsetWidth/n.offsetWidth*50;e>o&&(e=o),u(c=e,a=100-e)}e.addEventListener("click",function(){e.hasAttribute("play")?t=setInterval(function(){if(a<=0)return clearInterval(t),e.removeAttribute("play"),c=0,void(a=100);u(c+=.1,a-=.1)},2):clearInterval(t)}),o.onclick=i.onclick=function(t){l(t)},r.onmousedown=r.ontouchstart=function(){document.ontouchdown=document.onmousemove=function(t){l(t)},document.ontouchend=document.onmouseup=function(){document.onmousemove=null}},r.ondragstart=function(){return!1}}catch(t){console.log(t)}}(),function(){try{document.querySelector(".music__volume").querySelectorAll(".music__volume-item").forEach(function(t){t.addEventListener("click",function(){!function t(e){if(!e)return;e.removeAttribute("data-active");t(e.nextElementSibling)}(t),function t(e){if(!e)return;e.setAttribute("data-active","");t(e.previousElementSibling)}(t)})})}catch(t){console.log(t)}}(),function(){try{document.querySelectorAll(".courses__item").forEach(function(t){var e=t.querySelector(".courses__button"),n=t.querySelector(".courses__link"),o=t.querySelector(".courses__header");window.addEventListener("resize",function(){window.innerWidth>541&&t.removeAttribute("style")},!0),e.onclick=o.onclick=function(){var o,i,r,c,a;window.innerWidth<542?(i=n,r=e,c=(o=t).getBoundingClientRect(),a=i.getBoundingClientRect(),r.classList.toggle("courses__button-pressed"),50==c.height?o.style.height=a.bottom-c.top+20+"px":o.style.height="50px"):disableMenuStyle(t)}})}catch(t){console.log(t)}}(),function(){try{var t=document.querySelector(".head-menu__filter-menu"),e=t.querySelectorAll(".head-menu__item"),n=document.querySelectorAll(".course-inner");e.forEach(function(e,o){e.addEventListener("click",function(){var i;t.querySelector("li[data-active]").removeAttribute("data-active"),e.setAttribute("data-active",""),i=o,n.forEach(function(t,e){e==i-1?t.removeAttribute("hidden"):0==i?t.removeAttribute("hidden"):t.setAttribute("hidden","")})})})}catch(t){console.log(t)}}(),function(){try{var t=document.getElementById("reply-form"),e=["name","mail","comment"],n=0;e.forEach(function(o){t[o].onchange=function(){this.value?(t[o].setAttribute("data-done",""),n++):(t[o].setAttribute("data-wrong",""),n--),n==e.length&&(t.button.removeAttribute("disabled"),t.button.setAttribute("data-done",""))}}),t.button.onclick=function(){console.log("SEND!!!")}}catch(t){console.log(t)}}();